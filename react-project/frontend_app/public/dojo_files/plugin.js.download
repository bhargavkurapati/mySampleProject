/* Â© Copyright HCL Technologies Ltd. 2018, 2019                                                   */
/* Copyright IBM Corp. 2009-2017  All Rights Reserved. *//**
 * @license Copyright (c) 2003-2014, CKSource - Frederico Knabben. All rights reserved. For licensing,
 * see LICENSE.md or http://ckeditor.com/license
 */
!function(){function e(e,i){if(!i){var t=e.getSelection();i=t.getSelectedElement()}return i&&i.is("img")&&!i.data("cke-realelement")&&!i.isReadOnly()?i:void 0}function i(e){var i=e.getStyle("float");return("inherit"==i||"none"==i)&&(i=0),i||(i=e.getAttribute("align")),i}CKEDITOR.plugins.add("ibmuploadimage",{requires:"dialog",lang:"ar,ca,cs,da,de,el,en,es,fi,fr,he,hr,hu,it,iw,ja,kk,ko,nb,nl,no,pl,pt,pt-br,ro,ru,sk,sl,sr,sv,th,tr,uk,zh,zh-cn,zh-tw",icons:"image",hidpi:!0,init:function(i){if(!i.plugins.image&&!i.plugins.image2){var t="ibmuploadimage";CKEDITOR.dialog.add(t,this.path+"dialogs/ibmuploadimage.js");var a="img[alt,!src]{border-style,border-width,float,height,margin,margin-bottom,margin-left,margin-right,margin-top,width}",n="img[alt,src]";CKEDITOR.dialog.isTabEnabled(i,t,"advanced")&&(a="img[alt,dir,id,lang,longdesc,!src,title]{*}(*)"),i.addCommand(t,new CKEDITOR.dialogCommand(t,{allowedContent:a,requiredContent:n,contentTransformations:[["img{width}: sizeToStyle","img[width]: sizeToAttribute"],["img{float}: alignmentToStyle","img[align]: alignmentToAttribute"]]})),i.ui.addButton&&i.ui.addButton("Image",{label:i.lang.common.image,command:t,toolbar:"insert,10"}),i.on("doubleclick",function(e){var i=e.data.element;!i.is("img")||i.data("cke-realelement")||i.isReadOnly()||(e.data.dialog="ibmuploadimage")}),i.addMenuItems&&i.addMenuItems({ibmuploadimage:{label:i.lang.ibmuploadimage.menu,command:"ibmuploadimage",icon:"image",group:"image"}}),i.contextMenu&&i.contextMenu.addListener(function(t,a){return e(i,t)?{ibmuploadimage:CKEDITOR.TRISTATE_OFF}:void 0})}},afterInit:function(t){function a(a){var n=t.getCommand("justify"+a);n&&(("left"==a||"right"==a)&&n.on("exec",function(n){var o,l=e(t);l&&(o=i(l),o==a?(l.removeStyle("float"),a==i(l)&&l.removeAttribute("align")):l.setStyle("float",a),n.cancel())}),n.on("refresh",function(n){var o,l=e(t);l&&(o=i(l),this.setState(o==a?CKEDITOR.TRISTATE_ON:"right"==a||"left"==a?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),n.cancel())}))}t.plugins.image||t.plugins.image2||(a("left"),a("right"),a("center"),a("block"))}})}(),CKEDITOR.config.image_removeLinkByEmptyURL=!0;